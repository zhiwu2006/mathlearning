{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "math-question-template",
  "version": "1.0.0",
  "locale": "zh-CN",
  "metadata": {
    "gradeBand": "G3-G6",
    "subject": "Math",
    "tags": ["四则运算", "应用题", "几何"],
    "createdAt": "2025-01-18T10:00:00Z",
    "author": "Math Learning System"
  },
  "items": [
    {
      "id": "question-001",
      "stem": {
        "text": "小明有${a}个苹果，小红有${b}个苹果，两人一共有多少个苹果？",
        "variables": {
          "a": {
            "type": "int",
            "range": {
              "min": 10,
              "max": 50
            },
            "constraints": ["a > 0"]
          },
          "b": {
            "type": "int",
            "range": {
              "min": 5,
              "max": 40
            },
            "constraints": ["b > 0"]
          }
        }
      },
      "taxonomy": {
        "concepts": ["加法运算", "应用题"],
        "skills": ["条件提取", "关系建模", "基本运算"],
        "difficulty": "E"
      },
      "steps": [
        {
          "id": "step-1",
          "type": "extract",
          "prompt": "哪些是直接条件？（可多选）",
          "multipleSelect": true,
          "options": [
            {
              "id": "option-1-1",
              "text": "小明有${a}个苹果",
              "correct": true,
              "feedback": "这是直接给出的条件，无需计算"
            },
            {
              "id": "option-1-2",
              "text": "小红有${b}个苹果",
              "correct": true,
              "feedback": "这是直接给出的条件，无需计算"
            },
            {
              "id": "option-1-3",
              "text": "两人一共有多少个苹果",
              "correct": false,
              "feedback": "这是问题目标，不是已知条件"
            }
          ],
          "hints": [
            "仔细阅读题目，找出具体的数字",
            "哪些信息是题目直接告诉我们的？"
          ]
        },
        {
          "id": "step-2",
          "type": "question",
          "prompt": "这道题要求我们求什么？",
          "options": [
            {
              "id": "option-2-1",
              "text": "小明比小红多几个苹果",
              "correct": false,
              "feedback": "这是求差值，不是求总数"
            },
            {
              "id": "option-2-2",
              "text": "两人一共有多少个苹果",
              "correct": true,
              "feedback": "正确！我们要求的是总数"
            },
            {
              "id": "option-2-3",
              "text": "小红比小明多几个苹果",
              "correct": false,
              "feedback": "这是求差值，不是求总数"
            }
          ]
        },
        {
          "id": "step-3",
          "type": "compute",
          "prompt": "两人一共有多少个苹果？",
          "options": [
            {
              "id": "option-3-1",
              "text": "${a} + ${b}",
              "correct": true,
              "feedback": "正确！加法运算求总数"
            },
            {
              "id": "option-3-2",
              "text": "${a} - ${b}",
              "correct": false,
              "feedback": "这是求差值，不是求总数"
            },
            {
              "id": "option-3-3",
              "text": "${a} × ${b}",
              "correct": false,
              "feedback": "这是求乘积，不是求总数"
            }
          ],
          "validation": {
            "unit": "个"
          },
          "hints": [
            "求总数要用什么运算？",
            "把两个数合在一起用什么方法？"
          ]
        }
      ],
      "transitions": [
        {
          "fromStep": "step-1",
          "onCorrect": "step-2",
          "onWrong": "step-1",
          "maxRetries": 3
        },
        {
          "fromStep": "step-2",
          "onCorrect": "step-3",
          "onWrong": "step-2",
          "maxRetries": 2
        },
        {
          "fromStep": "step-3",
          "onCorrect": "",
          "onWrong": "step-3",
          "maxRetries": 2
        }
      ],
      "scoring": {
        "total": 10,
        "perStep": {
          "step-1": {
            "score": 3,
            "penaltyPerRetry": 0.5,
            "minScore": 1
          },
          "step-2": {
            "score": 2,
            "penaltyPerRetry": 0.3,
            "minScore": 0.5
          },
          "step-3": {
            "score": 5,
            "penaltyPerRetry": 1,
            "minScore": 2
          }
        }
      },
      "answer": {
        "final": "${a} + ${b}",
        "unit": "个",
        "rationale": "求总数用加法运算，将两个数相加"
      }
    }
  ]
}